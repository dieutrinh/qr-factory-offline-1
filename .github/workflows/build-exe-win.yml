- name: Setup Node
  uses: actions/setup-node@v4
  with:
    node-version: 20
    cache: npm

- name: Configure npm (retry/timeout)
  run: |
    npm config set fetch-retries 5
    npm config set fetch-retry-mintimeout 20000
    npm config set fetch-retry-maxtimeout 120000
    npm config set fetch-timeout 300000

- name: Install deps (with Electron mirror)
  env:
    ELECTRON_MIRROR: https://npmmirror.com/mirrors/electron/
    ELECTRON_CUSTOM_DIR: ""
  run: npm ci --no-audit --no-fund
