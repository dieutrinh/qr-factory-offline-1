<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>QR Factory Offline</title>
  <style>
    body { font-family: system-ui; background:#f5f6f7; }
    .card { background:#fff; padding:40px; margin:80px auto; width:420px; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.1); }
    button { width:100%; padding:12px; font-size:16px; background:#ffc400; border:0; border-radius:8px; cursor:pointer; }
    img { margin-top:20px; }
    .err { color:red; margin-top:10px; }
  </style>
</head>
<body>
  <div class="card">
    <h2>✅ QR Factory Offline</h2>
    <input id="txt" style="width:100%;padding:10px" value="trái sầu riêng, bình phước, 200000đ" />
    <br><br>
    <button onclick="gen()">Tạo QR</button>
    <div id="out"></div>
    <div id="err" class="err"></div>
  </div>

  <script>
    async function gen() {
      try {
        const text = document.getElementById('txt').value;
        const url = await window.qrFactory.toDataUrl(text);
        document.getElementById('out').innerHTML = '<img src="' + url + '"/>';
        document.getElementById('err').innerText = '';
      } catch (e) {
        document.getElementById('err').innerText = e.message;
      }
    }
  </script>
</body>
</html>
